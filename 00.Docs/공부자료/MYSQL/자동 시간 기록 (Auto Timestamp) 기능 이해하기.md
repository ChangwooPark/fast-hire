# 🕒 자동 시간 기록 (Auto Timestamp) 기능 이해하기

데이터베이스 운영 시 "데이터가 언제 생성되었고, 언제 마지막으로 수정되었는가?"를 관리하는 것은 디버깅과 서비스 운영 측면에서 매우 중요합니다.

### 1. 주요 구문 분석

#### `DEFAULT CURRENT_TIMESTAMP`
* **역할:** 행이 생성될 때(INSERT) 자동으로 현재 시각 저장.
* **특징:** 개발자가 직접 시간을 계산해서 넣을 필요가 없어 편리하며, 서버 시간이 아닌 DB 서버의 표준 시간을 따르므로 데이터 신뢰도가 높습니다.

#### `ON UPDATE CURRENT_TIMESTAMP`
* **역할:** 데이터 내용이 수정될 때(UPDATE) 자동으로 현재 시각으로 갱신.
* **특징:** `UPDATE` 쿼리를 날릴 때 해당 컬럼을 명시하지 않아도 DB 엔진이 스스로 시간을 바꿉니다.

---

### 2. 실제 작동 메커니즘



1.  **회원가입 (INSERT):**
    * `created_at`: 2026-01-16 10:00:00 (생성)
    * `updated_at`: 2026-01-16 10:00:00 (최초 생성 시 동일하게 기록)
2.  **닉네임 변경 (UPDATE):**
    * `created_at`: 2026-01-16 10:00:00 (**변하지 않음**)
    * `updated_at`: 2026-01-16 11:30:05 (**자동 갱신**)

---

### 3. 왜 필요한가? (비즈니스적 가치)

* **CS 대응:** "제 게시물이 언제 수정되었나요?"라는 사용자 문의에 정확히 답변할 수 있습니다.
* **보안 및 로깅:** 비밀번호가 언제 마지막으로 변경되었는지 확인하여 주기적인 변경을 유도할 수 있습니다.
* **데이터 분석:** 최근 7일 내에 정보가 업데이트된 활성 유저(DAU)를 추출하는 등 통계 자료로 활용됩니다.

---

### 4. 💡 팁: DATETIME vs TIMESTAMP
보통 이 기능을 사용할 때 두 타입을 고민하게 됩니다.

| 특징 | DATETIME | TIMESTAMP |
| :--- | :--- | :--- |
| **범위** | 서기 1000년 ~ 9999년 (매우 넓음) | 1970년 ~ 2038년 (좁음) |
| **타임존** | 입력된 시간을 그대로 저장 | UTC로 변환하여 저장 (국가 간 서비스에 유리) |
| **권장** | **일반적인 로그, 게시글 작성일 등** | 시스템 설정, 전 세계 서비스의 시간 관리 |